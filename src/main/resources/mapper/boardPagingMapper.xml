<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.paging.mapper.BoardPagingMapper">
<!-- menu_id 해당하는 게시물 자료수 -->
<select id = "count" >
	select count(*) CNT
	from board
	where menu_id =#{menu_id}
</select>
<select id = "getBoardPagingList">
  select idx ,menu_id , title, writer , to_char(regdate,'YYYY-MM-DD') , hit
  from board
  where menu_id = #{menu_id}
  order by idx desc
  OFFSET  #{offset} ROWS FETCH NEXT #{recordSize} ROWS ONLY
</select>
<select id = "insertBoard">
	insert into board(idx,menu_id,title,content,writer,regdate,hit)
	values(
	
	(select nvl(max(idx),0)+1 from board),
	
	#{menu_id},#{title},#{content},#{writer},sysdate,0
	)


</select>



</mapper>